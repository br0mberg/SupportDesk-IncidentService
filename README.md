# üõ† Incident Service

üìò [Habr —Å—Ç–∞—Ç—å—è](https://habr.com/ru/articles/870640/)  
‚úâÔ∏è Email: andrey@brombin.ru

---

## üìñ –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

- [–û–±–∑–æ—Ä](#-–æ–±–∑–æ—Ä)
- [–§—É–Ω–∫—Ü–∏–∏](#-—Ñ—É–Ω–∫—Ü–∏–∏)
- [–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏](#-—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏)
- [–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è](#-—Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è)
- [–ó–∞–ø—É—Å–∫](#-–∑–∞–ø—É—Å–∫)
  - [1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ](#1-–∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ)
  - [2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏](#2-–Ω–∞—Å—Ç—Ä–æ–π–∫–∞-–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏)
  - [3. –°–æ–∑–¥–∞–Ω–∏–µ Docker Network](#3-—Å–æ–∑–¥–∞–Ω–∏–µ-docker-network)
  - [4. –ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ Docker Compose](#4-–∑–∞–ø—É—Å–∫-—á–µ—Ä–µ–∑-docker-compose)
  - [5. –î–æ—Å—Ç—É–ø –∫ —Å–µ—Ä–≤–∏—Å–∞–º –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥](#5-–¥–æ—Å—Ç—É–ø-–∫-—Å–µ—Ä–≤–∏—Å–∞–º-–∏-–º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥)
- [–§–∞–π–ª Docker Compose](#-—Ñ–∞–π–ª-docker-compose)
- [–û–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å](#-–æ–±—Ä–∞—Ç–Ω–∞—è-—Å–≤—è–∑—å)

---

## üß≠ –û–±–∑–æ—Ä

**Incident Service** ‚Äî –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å –¥–ª—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –∏–Ω—Ü–∏–¥–µ–Ω—Ç–æ–≤, —á–∞—Å—Ç—å —Å–∏—Å—Ç–µ–º—ã –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∏.

### üíº –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:

- –°–æ–∑–¥–∞–Ω–∏–µ, —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ, —É–¥–∞–ª–µ–Ω–∏–µ –∏ –ø—Ä–æ—Å–º–æ—Ç—Ä –∏–Ω—Ü–∏–¥–µ–Ω—Ç–æ–≤
- –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞, –∫–∞—Ç–µ–≥–æ—Ä–∏–∏, —Å—Ç–∞—Ç—É—Å–∞ –∏ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ
- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤ –æ –Ω–æ–≤—ã—Ö –∏–Ω—Ü–∏–¥–µ–Ω—Ç–∞—Ö
- –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π —á–µ—Ä–µ–∑ Kafka
- –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –ø–æ JWT Bearer —á–µ—Ä–µ–∑ Keycloak
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å [Image Service](https://github.com/br0mberg/SupportDesk-ImageService) –∏ UserService (–Ω–∞ –¥–æ—Ä–∞–±–æ—Ç–∫–µ)

---

## üöÄ –§—É–Ω–∫—Ü–∏–∏

‚úÖ CRUD API –¥–ª—è –∏–Ω—Ü–∏–¥–µ–Ω—Ç–æ–≤  
‚úÖ gRPC-–≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å –¥—Ä—É–≥–∏–º–∏ —Å–µ—Ä–≤–∏—Å–∞–º–∏  
‚úÖ Kafka-–ø–æ–¥–ø–∏—Å–∫–∏ –∏ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏  
‚úÖ Keycloak –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏/–∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏  
‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —á–µ—Ä–µ–∑ Swagger/OpenAPI

---

## üîß –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

| –ö–∞—Ç–µ–≥–æ—Ä–∏—è         | –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏                         |
|------------------|------------------------------------|
| –Ø–ü                | Java 21                            |
| Backend           | Spring Boot, Spring Security, gRPC |
| –ë–î                | PostgreSQL + Liquibase             |
| –ë—Ä–æ–∫–µ—Ä —Å–æ–æ–±—â–µ–Ω–∏–π  | Apache Kafka + Kafka UI            |
| DevOps            | Docker, Docker Compose             |
| –ú–∞–ø–ø–∏–Ω–≥           | MapStruct, Lombok                  |
| –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API  | Swagger/OpenAPI                    |

---

## üì¶ –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- [Docker](https://www.docker.com/)
- [JDK 21+](https://www.oracle.com/java/technologies/javase/jdk21-archive-downloads.html)
- [PostgreSQL](https://www.postgresql.org/) (–µ—Å–ª–∏ –Ω–µ —á–µ—Ä–µ–∑ Docker)
- [Kafka](https://kafka.apache.org/downloads) (–µ—Å–ª–∏ –Ω–µ —á–µ—Ä–µ–∑ Docker)
- [Keycloak](https://www.keycloak.org/) (–µ—Å–ª–∏ –Ω–µ —á–µ—Ä–µ–∑ Docker)

---

## üöÄ –ó–∞–ø—É—Å–∫

### 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
git clone https://github.com/br0mberg/SupportDesk-IncidentService
cd SupportDesk-IncidentService
```

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π
Make sure to set up the following properties in your application.properties 
file located in src/main/resources/.

### 3. –°–æ–∑–¥–∞–Ω–∏–µ docker-network
```bash
docker network create support-network
```
### 4. –ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ docker-compose
Use the following docker-compose.yml to configure and start your containers.
```bash
docker-compose up --build
```
This will start the Incident Service, Kafka, Postgres, and all other required services containers.

### 5. –î–æ—Å—Ç—É–ø –∫ —Å–µ—Ä–≤–∏—Å–∞–º –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
- The Incident Service API will be accessible at http://localhost:8081.
- Kafka UI will be available at http://localhost:8383 for managing Kafka messages.
- Keycloak will be accessible at http://localhost:8080 for user authentication.
- Swagger UI will be accessible at http://localhost:8081/swagger-ui.html for api doc.

##ü§ù –û–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å

–ï—Å–ª–∏ —É –≤–∞—Å –≤–æ–∑–Ω–∏–∫–ª–∏ –≤–æ–ø—Ä–æ—Å—ã –∏–ª–∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è, —Å–≤—è–∂–∏—Ç–µ—Å—å —Å–æ –º–Ω–æ–π:
‚úâÔ∏è Email: andrey@brombin.ru

–ü—Ä–∏—è—Ç–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è! üéâ



